
:root{
  --bg:#0b0f24;
  --card:rgba(255,255,255,.06);
  --border:rgba(255,255,255,.14);
  --text:#f2f5ff;
  --muted:rgba(255,255,255,.7);
  --accent:#8b5cf6;
  --danger:#ef4444;
}
*{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;}
body{margin:0;background:radial-gradient(circle at 20% 0%, rgba(139,92,246,.35), transparent 45%), radial-gradient(circle at 80% 20%, rgba(59,130,246,.25), transparent 50%), var(--bg); color:var(--text);}
.topbar{display:flex;align-items:center;gap:6px;padding:10px 12px;position:sticky;top:0;z-index:20;background:linear-gradient(180deg, rgba(11,15,36,.95), rgba(11,15,36,.65));backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.08);}
.iconBtn{width:42px;height:42px;border-radius:12px;border:1px solid var(--border);background:rgba(255,255,255,.06);color:var(--text);font-size:18px;}
.brand{flex:1;min-width:0;text-align:center;}
.title{font-weight:900;letter-spacing:.6px;}
.subtitle{font-size:12px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.pill{border:1px solid var(--border);background:rgba(255,255,255,.06);border-radius:999px;padding:8px 12px;font-weight:800;white-space:nowrap;}
.wrap{max-width:760px;margin:0 auto;padding:14px;display:flex;flex-direction:column;gap:12px;}
.card{background:var(--card);border:1px solid rgba(255,255,255,.10);border-radius:18px;padding:14px;}
.cardHead{display:flex;align-items:center;justify-content:space-between;gap:6px;}
h2{margin:0 0 10px 0;}
.muted{color:var(--muted);font-size:12px;}
.row{display:flex;gap:6px;align-items:center;}
.rowBetween{display:flex;align-items:center;justify-content:space-between;gap:6px;flex-wrap:wrap;}
.rowCenter{display:flex;align-items:center;justify-content:center;gap:6px;flex-wrap:wrap;}
.btn{border:1px solid var(--border);background:rgba(255,255,255,.06);color:var(--text);border-radius:12px;padding:10px 12px;font-weight:800;}
.btn.small{padding:7px 10px;border-radius:10px;font-size:13px;}
.btn.primary{background:linear-gradient(90deg, rgba(139,92,246,.95), rgba(236,72,153,.85));border:none;}
.btn.danger{background:rgba(239,68,68,.2);border:1px solid rgba(239,68,68,.5);}
.btn.full{width:100%;padding:14px 12px;font-size:16px;border-radius:14px;}
.stats{justify-content:center;gap:18px;}
.stat{min-width:100px;text-align:center;border:1px solid rgba(255,255,255,.1);background:rgba(255,255,255,.04);border-radius:16px;padding:10px 12px;}
.statNum{font-size:20px;font-weight:900;}
.statLbl{font-size:12px;color:var(--muted);}
.logoBtn{width:56px;height:56px;border-radius:16px;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.06);display:flex;align-items:center;justify-content:center;}
.logoImg{width:44px;height:44px;object-fit:contain;}
.questionBox{margin-top:12px;border:1px dashed rgba(255,255,255,.18);border-radius:16px;padding:14px;}
.qTitle{font-weight:900;margin-bottom:8px;}
.wordBox{font-size:44px;font-weight:900;letter-spacing:2px;text-align:center;padding:12px 10px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(0,0,0,.15);}
.answers{margin-top:12px;display:grid;grid-template-columns:repeat(2,1fr);gap:6px;}
.answerBtn{border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.04);border-radius:14px;padding:12px;font-weight:900;font-size:18px;display:flex;justify-content:center;align-items:center;min-height:54px;}
.answerBtn.good{outline:2px solid rgba(34,197,94,.65);}
.answerBtn.bad{outline:2px solid rgba(239,68,68,.65);opacity:.9;}
.reward{margin-top:12px;text-align:center;}
.reward.hidden{display:none;}
.starBig{width:110px;height:110px;border-radius:26px;border:1px solid rgba(255,255,255,.16);background:rgba(255,215,0,.2);font-size:52px;}
.dialog{border:none;border-radius:18px;background:rgba(20,20,28,.97);color:var(--text);padding:14px;max-width:720px;width:92vw;}
.dialog::backdrop{background:rgba(0,0,0,.55);}
.lettersGrid{display:grid;grid-template-columns:repeat(8,1fr);gap:8px;margin:12px 0;}
.letterChip{border:1px solid rgba(255,255,255,.14);border-radius:12px;padding:10px 0;text-align:center;font-weight:900;background:rgba(255,255,255,.04);}
.letterChip.sel{outline:2px solid rgba(139,92,246,.75);background:rgba(139,92,246,.12);}
.logosGrid{display:grid;grid-template-columns:repeat(3,1fr);gap:6px;margin:12px 0;}
.logoPick{border:1px solid rgba(255,255,255,.14);border-radius:16px;background:rgba(255,255,255,.04);padding:10px;display:flex;flex-direction:column;gap:8px;align-items:center;}
.logoPick img{width:64px;height:64px;object-fit:contain;}
.input,.select{width:100%;border-radius:12px;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.06);color:var(--text);padding:10px 12px;font-weight:800;}
.debugPanel{position:fixed;left:10px;right:10px;bottom:10px;z-index:9999;background:rgba(0,0,0,.6);border:1px solid rgba(255,255,255,.18);border-radius:16px;backdrop-filter:blur(10px);}
.debugPanel.hidden{display:none;}
.debugHead{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid rgba(255,255,255,.12);}
.debugBtns{display:flex;gap:8px;}
.debugLog{max-height:150px;overflow:auto;margin:0;padding:10px 12px;font-size:12px;white-space:pre-wrap;}


.midColumn{display:flex;flex-direction:column;align-items:center;gap:8px;}
.streakPill{border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06);border-radius:999px;padding:6px 10px;font-weight:900;font-size:12px;white-space:nowrap;}
.scorePill{border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06);border-radius:999px;padding:8px 12px;font-weight:900;font-size:12px;white-space:nowrap;}

.rowCenter .btn{flex:1;min-width:150px;}
@media (max-width:380px){
  .rowCenter .btn{min-width:130px;font-size:13px;padding:10px 10px;}
}

.rewardOverlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.45);backdrop-filter:blur(4px);z-index:9998;}
.rewardOverlay.hidden{display:none;}
.rewardCard{width:min(420px,92vw);background:rgba(20,20,28,.97);border:1px solid rgba(255,255,255,.16);border-radius:18px;padding:16px;text-align:center;}
.rewardCoins{margin-top:10px;font-weight:900;font-size:18px;}

/* Prevent subtitle truncation awkwardly */
.subTitle{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;}
/* Answer buttons: keep in grid and avoid overlap */
.answers{display:grid;grid-template-columns:repeat(2,1fr);gap:6px;}
.answerBtn{min-height:64px;}

.answerBtn.disabled{opacity:.45;filter:saturate(.6);}

.wordBox{letter-spacing:0;}

.controlsRow{gap:8px;flex-wrap:nowrap;}
.btnSmall{padding:10px 10px;font-size:13px;min-width:0;flex:1;}
@media (max-width:380px){ .btnSmall{font-size:12px;padding:9px 8px;} }
.pillBtn{cursor:pointer;border:none;}


.rewardStarBtn{width:110px;height:110px;border-radius:999px;border:none;cursor:pointer;font-size:48px;margin:10px auto;background:radial-gradient(circle at 30% 30%, #fff4b2 0%, #ffd54a 45%, #ff8a00 100%);display:block;box-shadow:0 10px 30px rgba(0,0,0,.35);} 
.rewardStarBtn:disabled{opacity:.55;cursor:not-allowed;}


/* v92.3 battle stats row alignment */
#battleStatsRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:6px;
  flex-wrap:wrap;
  direction:rtl;
}
#battleStatsRow .logoBtn{
  flex:0 0 auto;
}
#battleStatsRow .stat{
  flex:0 0 auto;
  min-width:70px;
}
#battleStatsRow .streakPill,
#battleStatsRow .scorePill{
  flex:0 0 auto;
  white-space:nowrap;
}
@media (max-width: 420px){
  #battleStatsRow .stat{ min-width:70px; }
}


/* v92.4 compact stats spacing */
#battleStatsRow{
  gap:6px !important;
}
#battleStatsRow .stat{ min-width:64px !important; }
#battleStatsRow .statNum{ font-size:16px; }
#battleStatsRow .statLbl{ font-size:11px; }
#battleStatsRow .streakPill,
#battleStatsRow .scorePill{
  padding:6px 8px;
  font-size:12px;
}
#battleStatsRow .logoImg{ width:34px; height:34px; }


/* v92.6 streak as stat */
#battleStatsRow{ gap:6px !important; }

/* v92.8 – compact one-line stats + better nikkud rendering */
#battleStatsRow{
  flex-wrap:nowrap !important;
  justify-content:space-between;
  gap:4px !important;
}
#battleStatsRow .stat{
  min-width:0 !important;
  padding:6px 6px !important;
  border-radius:14px !important;
  flex:1 1 0;
}
#battleStatsRow .statNum{ font-size:15px !important; margin-bottom:2px !important; }
#battleStatsRow .statLbl{ font-size:10px !important; white-space:nowrap; }
#battleStatsRow .logoPickBtn{ width:40px !important; height:40px !important; border-radius:14px !important; }
#battleStatsRow .logoPickBtn img{ width:32px !important; height:32px !important; }

/* Word with nikkud needs a bit more line-height and a Hebrew-friendly font */
#wordMasked{
  font-family: "Noto Sans Hebrew", "Heebo", "Assistant", system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
  line-height:1.25;
  letter-spacing:0;
}

/* Make sure "בחירת אותיות" never sits on top of start on mobile */
.lettersRow{ margin-top:14px !important; }
.startBtn{ margin-bottom:4px !important; }

@media (max-width: 420px){
  #battleStatsRow{ gap:3px !important; }
  #battleStatsRow .stat{ padding:5px 5px !important; }
  #battleStatsRow .statNum{ font-size:14px !important; }
  #battleStatsRow .statLbl{ font-size:9.5px !important; }
  #battleStatsRow .logoPickBtn{ width:38px !important; height:38px !important; }
}
#battleStatsRow .statCompact{ min-width:64px !important; }

/* --- v92.8 mobile layout fixes --- */
#battleStatsRow{justify-content:flex-start !important;gap:4px !important;flex-wrap:nowrap !important;}
#battleStatsRow .logoImg{width:32px !important;height:32px !important;margin-left:2px !important;}
#battleStatsRow .stat{min-width:60px !important;padding:7px 8px !important;border-radius:14px !important;}
#battleStatsRow .statNum{font-size:16px !important;}
#battleStatsRow .statLbl{font-size:11px !important;gap:4px !important;}
#battleStatsRow .statLbl .mini{font-size:16px !important;}

/* reduce vertical clutter between Start and letter selection */
.rowBetween{margin-top:12px !important;}
.rowBetween .muted{margin-top:2px;}

/* score/words tile: keep on one line inside the label */
#scoreStat .statLbl{white-space:nowrap !important;}





/* battle card becomes a fixed "panel" with internal scrolling */

/* prevent hidden content under iOS home bar */
@supports (padding: max(0px)){
  }
